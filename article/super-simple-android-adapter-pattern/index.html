<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="zh-Hans"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"><title>一种简洁的Adapter模式实现 | Hey sister</title><meta name="description" content="鄙人觉得做重复的事情就是浪费生命啊(Don&amp;rsquo;t Repeat Yourself原则), 在Android中ListView的Adapter中有大量重复工作可以被取消掉."><meta name="keywords" content="android,adapter,简洁"><meta name="author" content="qbeenslee"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"><meta property="og:title" content="一种简洁的Adapter模式实现 | Hey sister"><meta property="og:description" content="鄙人觉得做重复的事情就是浪费生命啊(Don&amp;rsquo;t Repeat Yourself原则), 在Android中ListView的Adapter中有大量重复工作可以被取消掉."><meta property="og:url" content="https://qbeenslee.com/article/super-simple-android-adapter-pattern/"><meta property="og:site_name" content="Hey sister"><meta property="og:type" content="article"><meta property="article:section" content="Article"><meta property="article:tag" content="android"><meta property="article:tag" content="adapter"><meta property="article:tag" content="简洁"><meta property="article:published_time" content="2015-12-15T11:46:43&#43;08:00"><meta property="article:modified_time" content="2015-12-15T11:46:43&#43;08:00"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@"><meta name="twitter:creator" content="@"><link rel="alternate" type="application/rss+xml" title="Hey sister" href="https://qbeenslee.com/index.xml"><style>@charset "UTF-8";*{margin:0;padding:0;outline:0!important;-moz-osx-font-smoothing:antialiased;-webkit-font-smoothing:antialiased;-webkit-box-sizing:border-box;-khtml-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box}:after{-webkit-box-sizing:border-box;-khtml-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box}:before{-webkit-box-sizing:border-box;-khtml-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box}::-webkit-scrollbar{width:0;background:0 0}::selection{background:#262a30;color:#fff}::-moz-selection{background:#262a30;color:#fff}::-webkit-selection{background:#262a30;color:#fff}@font-face{font-family:Kaushan Script;font-style:normal;font-weight:400;font-display:swap;src:url(/fonts/kaushan-script-v8-latin-regular.eot);src:local("Kaushan Script"),local("KaushanScript-Regular"),url(/fonts/kaushan-script-v8-latin-regular.eot?#iefix) format("embedded-opentype"),url(/fonts/kaushan-script-v8-latin-regular.woff2) format("woff2"),url(/fonts/kaushan-script-v8-latin-regular.woff) format("woff"),url(/fonts/kaushan-script-v8-latin-regular.ttf) format("truetype"),url(/fonts/kaushan-script-v8-latin-regular.svg#KaushanScript) format("svg")}@media screen and (min-width:1280px){html{font-size:17px}}@media screen and (min-width:640px) and (max-width:1279px){html{font-size:16px}}@media screen and (max-width:639px){html{font-size:14.5px}}html{min-height:100%;height:100%;min-width:300px;margin:0;position:relative;-webkit-box-sizing:border-box;-khtml-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;overflow-x:hidden;overflow-y:scroll;text-rendering:optimizeLegibility;vertical-align:baseline;font-family:Classic Grotesque W01,Arial,Lucida Grande,Hiragino Sans GB,STHeiti,Microsoft YaHei,WenQuanYi Micro Hei,SimSun,sans-serif}body{min-height:100%;height:100%;margin:0;position:relative;padding:0;line-height:1.428571428571429}abbr,address,article,aside,audio,b,blockquote,body,body div,caption,cite,dd,del,details,dfn,dl,dt,em,fieldset,figure,form,header,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,p,pre,q,samp,section,small,strong,summary,time,tr,ul,var,video{vertical-align:baseline;font-family:Classic Grotesque W01,Arial,Lucida Grande,Hiragino Sans GB,STHeiti,Microsoft YaHei,WenQuanYi Micro Hei,SimSun,sans-serif}td{vertical-align:middle}td img{vertical-align:middle}a{text-decoration:none;color:#1b69b6;word-wrap:break-all;overflow-wrap:break-all;cursor:pointer;font-weight:500;vertical-align:baseline}a:hover{color:#262a30}del{text-decoration:line-through;-moz-osx-font-smoothing:auto;-webkit-font-smoothing:auto;vertical-align:baseline;font-family:Classic Grotesque W01,Arial,Lucida Grande,Hiragino Sans GB,STHeiti,Microsoft YaHei,WenQuanYi Micro Hei,SimSun,sans-serif}th{font-weight:700;vertical-align:bottom}hr{height:1px;border:0;border-top:1px solid #d3d6db;margin:20px 0;display:block}input,select{vertical-align:middle;font:99% sans-serif}textarea{font:99% sans-serif}button{width:auto;overflow:visible}input[type=button]{width:auto;overflow:visible}address,cite,dfn,em,i,var{font-style:italic;font-family:Classic Grotesque W01,Arial,Lucida Grande,Hiragino Sans GB,STHeiti,Microsoft YaHei,WenQuanYi Micro Hei,SimSun,sans-serif}article{display:block}article:not(:first-child){margin-top:36px}figure,header{display:block;font-family:Classic Grotesque W01,Arial,Lucida Grande,Hiragino Sans GB,STHeiti,Microsoft YaHei,WenQuanYi Micro Hei,SimSun,sans-serif}small{font-size:75%}section{display:block}summary{display:list-item}summary:focus{outline:0;box-shadow:none}details summary{cursor:pointer;color:#848484;font-size:.85rem}sup{top:-.5em}img[src$="#c"]{display:block;margin:.7rem auto}img[src$="#l"]{float:left;margin:.7rem}img[src$="#r"]{float:right;margin:.7rem}.unselectable{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default!important}.clearfix:after{content:"";display:table;clear:both}input[type=checkbox]{vertical-align:baseline;margin:0 .5rem 0 0}input[type=radio]{vertical-align:baseline}span{font-style:inherit;font-weight:inherit}@-webkit-keyframes spin-around{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes spin-around{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}.has-text-centered{text-align:center}.gray{background-color:#e6ecf0}.content-toc-box{z-index:1000;min-width:200px;margin:36px;font-size:.75rem;line-height:1.2;font-family:Chinese Quote,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Helvetica Neue,Helvetica,Arial,sans-serif;position:fixed;top:60px}.content-toc-box .node-h1{padding-left:0}.content-toc-box .node-h2{padding-left:.5em}.content-toc-box .node-h2:before{content:"";position:absolute;top:50%;margin-top:-4px;left:-2px;width:2px;height:8px}.content-toc-box .node-h2 a{font-weight:900}.content-toc-box .node-h3{padding-left:2.4em}.content-toc-box .node-h4{padding-left:3.6em}.content-toc-box .node-h5{padding-left:4.8em}.content-toc-box .node-h6{padding-left:6.4em}.content-toc-box ul{width:100%;white-space:nowrap}.content-toc-box li{padding:3px 10px 3px 6px;border-left:2px solid #eaeaea;color:#595959;position:relative;z-index:1000}.content-toc-box li:hover{border-left:2px solid #7cd4a2}.content-toc-box a{width:100%;display:block;overflow:hidden;text-overflow:ellipsis;color:#595959}.content-toc-box .active{color:#1abc9c;border-bottom-color:#1abc9c}.content-toc-box .active>a{color:#1abc9c;border-bottom-color:#1abc9c}.content-toc-box .active>a:hover{color:#1abc9c;border-bottom-color:#1abc9c}.content-toc-box li[class~=active]{border-left:2px solid #1abc9c}@media screen and (max-width:1350px){.content-toc-box{display:none}}.content-toc{max-height:100%;left:auto;width:200px;overflow:auto}.content-toc>.wrap{width:100%;overflow:auto}main{box-sizing:border-box;min-height:100%;padding-bottom:60px}.vertical-safe{padding-top:100px;padding-bottom:60px}.vertical-safe-covered{padding-top:30px;padding-bottom:60px}.horizontal-safe{max-width:854px;padding-left:20px;padding-right:20px;margin:0 auto;display:block}.summary{color:#555;font-size:1rem;line-height:1.5;margin:10px 0}.section{padding:20px}.tile-container{max-width:768px;padding:55px 20px;margin:0 auto;display:block}#page .title{font-size:2rem}#articles .title,#page .title{font-family:Athelas,Hiragino Sans GB,STHeiti,Microsoft YaHei,WenQuanYi Micro Hei,SimSun,sans-serif,serif;margin:5px 0;color:#333;font-weight:700;word-break:break-word;text-decoration:none;font-size:1.6875rem}#articles .title a,#page .title a{text-decoration:none;color:#333;font-weight:700}#articles .title a:visited,#page .title a:visited{color:#333}#articles .title span,#page .title span{font-weight:300}#articles .title strong,#page .title strong{font-weight:500;color:inherit}#articles .subtitle,#page .subtitle{font-weight:300;word-break:break-word;line-height:1.5;font-size:.875rem;color:#aeaeae}#articles .subtitle em,#page .subtitle em{font-weight:300}#articles .subtitle span,#page .subtitle span{font-weight:300}#articles .subtitle strong,#page .subtitle strong{font-weight:500}.pager{margin:36px 0!important;padding:0!important;text-align:center;list-style:none;height:45px}.pager:after{display:table;content:" ";text-align:center;list-style:none}.pager:before{display:table;content:" ";text-align:center;list-style:none}.pager li{display:inline}.pager .previous>a{float:left}.pager .next>a{float:right}.article-cover{margin:100px auto 0;width:768px;position:relative}.article-cover .article-wrapper{left:460px}.article-cover>.cover-wrapper{display:inline-block;width:480px;height:270px;overflow:hidden;position:relative;z-index:3}.article-wrapper{position:absolute;background:#fff;text-align:left;top:20px;height:398px;width:498px;border:1px solid #eaeaea}.article-header{margin-bottom:40px}.wrapper{padding:100px 20px}.dark-mode{background:#181818;word-wrap:break-word;font:12px/200% hiragino sans gb,microsoft yahei,微软雅黑,tahoma,arial,simsun,宋体;color:#878787}.four-zero-four .title{font-size:10rem}.four-zero-four .button{border-radius:100px;box-shadow:1px 1px 5px #bababa}.four-zero-four .button:hover{box-shadow:1px 2px 5px #bababa}#taxonomy-index .taxonomy:not(:first-child){margin-top:36px}#taxonomy-index .taxonomy>.taxonomy-name{font-size:1.5rem;font-style:b}#taxonomy-index .taxonomy>.taxonomy-name>a{color:#333;font-weight:700}#taxonomy-index .taxonomy>.taxonomy-article{line-height:2rem}#taxonomy-index .taxonomy .taxonomy-article-time{color:gray;overflow:hidden;width:250px;font-size:.8rem;white-space:nowrap;text-overflow:ellipsis;-webkit-text-overflow:ellipsis}#taxonomy-index .taxonomy .taxonomy-article-link{color:#333;font-size:1rem;font-family:Athelas,Hiragino Sans GB,STHeiti,Microsoft YaHei,WenQuanYi Micro Hei,SimSun,sans-serif,serif}#taxonomy-index .taxonomy .more{font-size:.85rem}#taxonomy-index .taxonomy .more>a{color:#0562f1}.caret{display:inline-block;width:0;height:0;margin-left:2px;vertical-align:middle;border-top:4px dashed;border-right:4px solid transparent;border-left:4px solid transparent}.dropdown{position:relative;display:inline-block}.dropdown:hover .dropdown-content{display:block}.dropbtn{cursor:pointer}.dropdown-content{display:none;position:absolute;background-color:#f9f9f9;min-width:7rem;box-shadow:0 8px 16px 0 rgba(0,0,0,.2)}.dropdown-content a{color:#5e5e5e;padding:.75rem 1rem;text-decoration:none;display:block}.dropdown-content a:hover{background-color:#f1f1f1}header{z-index:9999;width:100%;top:0;padding:10px 0}header .homepage{display:inline;margin:0 1rem;max-width:6.25rem}header .homepage .title{font:1rem Kaushan Script,Helvetica Neue,Helvetica,Arial;text-transform:capitalize;display:inline;vertical-align:middle;padding:0 5px}header .homepage .title:hover{color:#ff2a40}header .nav-item{-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-left:1rem;padding-right:1rem;position:relative;display:inline-block}@media screen and (max-width:768px){header .nav-item{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}}header #nav-bar{margin:4px 0 0;display:inline}header .nav-color0{color:#7f95d1}header .nav-color1{color:#ff82a9}header .nav-color2{color:#177e89}header .nav-color3{color:#ffc857}.opaqueHeader{border-bottom:1px solid #eee;background-color:#fff}.opaqueHeader .nav-color-normal{color:#5e5e5e}.opaqueHeader .nav-color-active{color:#1abc9c}.opaqueHeader .homepage .title{color:#000}.opaqueHeader>#nav-bar>.nav-item>a:hover{color:#111}.transHeader{border-bottom:none;background:0 0;background:-moz-linear-gradient(top,rgba(0,0,0,.2) 0,rgba(0,0,0,0) 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0,rgba(0,0,0,.2)),color-stop(100%,rgba(0,0,0,0)));background:-webkit-linear-gradient(top,rgba(0,0,0,.2) 0,rgba(0,0,0,0) 100%);background:-o-linear-gradient(top,rgba(0,0,0,.2) 0,rgba(0,0,0,0) 100%);background:linear-gradient(to bottom,rgba(0,0,0,.2) 0,rgba(0,0,0,0) 100%)}.transHeader .nav-color-normal{color:#fff;text-shadow:1px 1px 2px #000}.transHeader .nav-color-active{color:#1abc9c;text-shadow:1px 1px 2px #1abc9c}.transHeader .homepage .title{color:#fff;text-shadow:1px 1px 2px #000}.transHeader>#nav-bar>.nav-item>a:hover{color:#fff}.banner{display:block;z-index:-1;outline:0;width:100%}.banner .banner-wrapper{position:relative;width:100%;overflow:hidden;-webkit-transition:all .5s;-moz-transition:all .5s;transition:all .5s}@media(min-aspect-ratio:1/1) and (min-width:506px){.normal .banner-wrapper{height:42vh}}@media(max-aspect-ratio:1/1) and (min-width:506px){.normal .banner-wrapper{height:42vw}}@media screen and (max-width:505px){.normal .banner-wrapper{height:212px}}@media(min-aspect-ratio:1/1) and (min-width:506px){.huge .banner-wrapper{height:56vh}}@media(max-aspect-ratio:1/1) and (min-width:506px){.huge .banner-wrapper{height:56vw}}@media screen and (max-width:505px){.huge .banner-wrapper{height:282px}}.full .banner-wrapper{height:100vh}.banner-wrapper .banner-content{font-size:16px;margin:0 auto;padding:0 10px;color:#fff;height:55%;max-width:830px;position:absolute;top:30%;left:50%;width:100%;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-webkit-transform:translateX(-50%);-moz-transform:translateX(-50%);transform:translateX(-50%);font-family:-apple-system,BlinkMacSystemFont,helvetica neue,pingfang sc,microsoft yahei,source han sans sc,noto sans cjk sc,wenquanyi micro hei,sans-serif}.banner-wrapper .banner-content .title-wrapper{font-size:2rem;font-weight:900;word-break:break-word;text-decoration:none;text-shadow:.1em .1em .2em #000;font-family:inherit;text-align:center}@media screen and (min-width:1280px){.banner-wrapper .banner-content .title-wrapper{font-size:4rem}}@media screen and (min-width:640px) and (max-width:1279px){.banner-wrapper .banner-content .title-wrapper{font-size:3rem}}@media screen and (max-width:639px){.banner-wrapper .banner-content .title-wrapper{font-size:2rem}}.banner-wrapper .banner-content .subtitle{font-size:1.2rem;font-weight:500;word-break:break-word;line-height:1.5;text-decoration:none;text-shadow:.2em .2em .3em rgba(0,0,0,.747);font-family:inherit;text-align:right;right:0;margin-top:20px}.banner-wrapper .cover{position:absolute;width:100%;height:100%;object-fit:cover}@media screen and (min-width:1200px){.banner-wrapper .banner-title{font-size:32px}}.content{color:#3e3e3e;margin:0 0 2.25rem}.content article,.content b,.content blockquote,.content caption,.content cite,.content dd,.content del,.content details,.content dfn,.content dl,.content dt,.content fieldset,.content figure,.content form,.content i,.content img,.content ins,.content kbd,.content label,.content legend,.content mark,.content p,.content q,.content samp,.content section,.content strong,.content summary,.content time,.content var,.content video{letter-spacing:.0187rem;line-height:1.6;font-family:-apple-system,BlinkMacSystemFont,Roboto,helvetica neue,segoe ui,Meiryo,sans-serif}.content p{font-size:.975rem;text-align:justify;font-weight:400}.content p+p{margin-top:1rem}.content b,.content strong{font-weight:700}.content .title{line-height:1.25}.content iframe{max-width:100%}.content details{margin-top:0;margin-bottom:16px;display:block}.content>iframe{margin:10px 0}.content ul{display:block;list-style:disc;list-style-type:disc;margin-block-start:0;margin-block-end:0;margin-inline-start:0;margin-inline-end:0;padding-inline-start:1.5rem}.content ul ul{list-style-type:circle;margin-top:.5em}.content ul ul ul{list-style-type:square}.content ul+pre{margin-top:8px}.content ul+.highlight{margin-top:8px}.content ul[class~=task-list]{padding-inline-start:.5rem;list-style:none;list-style-type:none}.content ol,.content ul{margin-top:.65rem}.content ol+p,.content ul+p{margin-top:.85rem}.content li,.content ol,.content ul{font-size:.9rem}.content li:not(:first-child){margin-top:.375rem}.content li table{margin-bottom:1.5em}.content ol{display:block;list-style:decimal;list-style-type:decimal;margin-block-start:0;margin-block-end:0;margin-inline-start:0;margin-inline-end:0;padding-inline-start:16px}.content ol:not(:last-child){margin-bottom:.75rem}.content:not(p)+ul{margin-top:6px}.content .task-list li{list-style:none}.content h1,.content h2,.content h3,.content h4,.content h5,.content h6{word-break:normal;overflow-wrap:break-word;line-height:1.25;color:#000;font-weight:700;font-family:Athelas,Hiragino Sans GB,STHeiti,Microsoft YaHei,WenQuanYi Micro Hei,SimSun,sans-serif,serif}.content h1+div,.content h2+div,.content h3+div,.content h4+div,.content h5+div,.content h6+div{margin-top:.5rem}.content *+h2,.content *+h3{margin-top:3.75rem}.content *+h4,.content *+h5,.content *+h6{margin-top:2rem}.content hr+h1,.content hr+h2,.content hr+h3,.content hr+h4,.content hr+h5,.content hr+h6{margin-top:0}.content h1{font-size:1.9rem}.content h1+h2{margin-top:1.5rem}.content h1+*{margin-top:1.25rem}.content h2{font-size:1.6rem}.content h2+h3{margin-top:1.5rem}.content h2+*{margin-top:1rem}.content h3{font-size:1.4rem}.content h3+h4{margin-top:1.5rem}.content h3+*{margin-top:1rem}.content h4{font-size:1.2rem}.content h4+h5{margin-top:1.5rem}.content h4+*{margin-top:.75rem}.content h5{font-size:1.1rem}.content h5+h6{margin-top:1.5rem}.content h5+*{margin-top:.75rem}.content h6{font-size:1rem}.content h6+*{margin-top:.75rem}.content h1::before,.content h2::before,.content h3::before,.content h4::before,.content h5::before,.content h6::before{color:#aeb1b5;font-weight:700}.content a{color:#1b69b6;font-weight:500}.content a:hover{color:#1b69b6}.content a:visited{color:#1b69b6}.content table{border:0;border-collapse:collapse;border-spacing:0;font-size:.8125rem;text-align:left;max-width:100%;white-space:nowrap;overflow-x:scroll;padding-right:2px}.content table>tbody tr:hover{background-color:#f0f0f0}.content table td{font-size:.8125rem;vertical-align:top;padding:6px 12px;border:1px solid #d9d9d9;vertical-align:top;word-wrap:break-word;height:30px}.content table td *{font-size:.8125rem;word-wrap:break-word}.content table th{font-size:.8125rem;vertical-align:top;padding:6px 12px;border:1px solid #c2c4c5;background-color:#e4e6e8}.content table:not(:last-child){margin-bottom:12px}.content .table-wrapper{width:100%;overflow-y:auto;margin-bottom:12px}.content .table-wrapper+*{margin:1em 0}.content .table-wrapper+blockquote{margin:.5em 0 1em}.content .table-wrapper::-webkit-scrollbar-thumb{border-radius:8px;border:3px solid #fff;background-color:rgba(0,0,0,.3)}.content .table-container::-webkit-scrollbar{-webkit-appearance:none;width:14px;height:14px}.content .highlight,.content pre{margin:.75rem 0}.content pre{font-family:Classic Grotesque W01,Arial,Lucida Grande,Hiragino Sans GB,STHeiti,Microsoft YaHei,WenQuanYi Micro Hei,SimSun,sans-serif;font-weight:400;font-size:.8125rem;max-width:100%;display:block;overflow:auto;white-space:pre;word-wrap:break-word;padding:1em;line-height:1.33;background:#f5f2f0;border:1px solid #d9d9d9}.content pre code{display:block;white-space:pre;word-wrap:normal;font-family:Consolas,Monaco,Menlo,monospace}.content figure{display:inline-block;max-width:100%;margin:12px 0}.content .footnote-return{display:none}.content .footnotes{margin:18px 0}.content .footnotes>hr{height:1px;border:0;border-top:1px dashed #dcdcdc;margin:3.75rem 0 1rem}.content .footnotes>ol{counter-reset:li;margin:0 0 0 15px;padding:0;list-style:decimal}.content .footnotes>ol>li{list-style:none;position:relative;display:block;line-height:24px;font-weight:300}.content .footnotes>ol>li:before{content:counter(li) ". ";counter-increment:li;text-align:center;color:#5e5e5e;font-size:12px;text-decoration:none;line-height:24px;padding:0;text-align:center;display:inline-block;position:absolute;left:-14px;top:1px}.content .footnotes>ol>li:not(:first-child){margin-top:1rem}.content .footnotes>ol a,.content .footnotes>ol p{color:#949494;font-size:.85rem}.content .footnotes>ol a:hover{color:#5e5e5e}.content .footnotes .footnote-backref{color:#5e5e5e}.content>.footnotes>ol>li>a{color:#676767}.content>.footnotes>ol>li>a[class=footnote-return]{color:#d03c3c}.content .footnote-ref{color:#fff;background-color:#5e5e5e;border-radius:2px;font-size:10px;line-height:1;padding:1px 5px;top:-.1em;margin-left:2px;margin-right:2px;text-decoration:none;cursor:help;position:relative;font-variant-caps:inherit;font-variant-ligatures:inherit;font-style:inherit;font-family:pingfang sc,helvetica neue,Helvetica,hiragino sans gb,microsoft yahei,Arial,sans-serif}.content .footnote-ref:visited{color:#fff}.content img{max-width:100%;border-radius:2px}.content figure>img{vertical-align:top;max-width:100%}.content figure>figcaption{margin-top:5px;color:#929292;text-align:center;font-size:90%}.content .friend-links>li{float:left;position:relative;transition:all .3s ease-out;list-style:none}.content .friend-links>li:hover{background:rgba(230,230,230,.5)}.content .friend-links>li a{display:block;padding:0 10px 0 90px;height:90px;color:#555}.content .friend-links>li a img{width:60px;height:60px;border-radius:50%;position:absolute;top:15px;left:15px;cursor:pointer;margin:0}.content .friend-links>li a h4{cursor:pointer;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;margin:0;padding-top:20px;font-size:16px}.content .friend-links>li a p{cursor:pointer;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;margin:0;margin:10px 0;line-height:24px}.content .article-copyright{margin:60px 0 40px;line-height:1.4em;text-align:right;color:#929292;font-size:14px}.content .article-copyright p{text-align:inherit;margin:10px 0}.content .article-copyright p a{color:#323232}.content .map-box{margin:10px 0}.content #banner+.content{margin-top:40px}.content .related ul{list-style-type:square;font-size:17px}.content h1+blockquote,.content h2+blockquote,.content h3+blockquote,.content h4+blockquote,.content h5+blockquote,.content h6+blockquote{font-style:italic;border-left:none;-webkit-box-sizing:border-box;-khtml-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box;margin:1rem 0 2rem;padding:0 0 0 2rem;color:#555}.content h1+blockquote:before,.content h2+blockquote:before,.content h3+blockquote:before,.content h4+blockquote:before,.content h5+blockquote:before,.content h6+blockquote:before{content:"“";display:block;font-family:times;font-style:normal;font-size:3rem;color:#444;font-weight:700;line-height:1.875rem;margin-left:-2rem;position:absolute}.content h1+blockquote>p,.content h2+blockquote>p,.content h3+blockquote>p,.content h4+blockquote>p,.content h5+blockquote>p,.content h6+blockquote>p{font-size:1rem}.content :not(blockquote):not(li)>p{margin:1.5em 0}.content blockquote{padding:0 10px;border-left:4px solid #d9d9d9;margin:.5em 0 1em;font-style:italic;color:#555}.content blockquote:first-child{font-style:italic;border-left:none;-webkit-box-sizing:border-box;-khtml-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box;margin:16px 0 32px;padding:0 0 0 2rem;color:#555}.content blockquote:first-child>p{font-size:1rem}.content blockquote:first-child p+p{margin-top:1rem}.content blockquote:first-child:before{content:"“";display:block;font-family:times;font-style:normal;font-size:3rem;color:#444;font-weight:700;line-height:30px;margin-left:-2rem;position:absolute}.content blockquote>p{font-size:.875rem}.content blockquote p+p{margin-top:.875rem}.content blockquote::after{content:none}@media screen and (max-width:767px){.content .content blockquote{padding:0 0 0 30px}.content .content blockquote:before{margin-left:-32px;font-size:36px;line-height:30px}}.content q{quotes:none;vertical-align:baseline}.content q:after{content:none}.content q:before{content:none}.content .button-link{display:inline-block;margin:0 4px;padding:4px 12px;border-radius:4px;border-bottom:4px solid #3aa373;font-size:14px;color:#fff;background-color:#4fc08d}.content .button-link:hover{color:#fff;background-color:#1abc9c}.content kbd{display:inline-block;padding:.25em;background-color:#fafafa;border:1px solid #dbdbdb;border-bottom-color:#b5b5b5;border-radius:3px;-webkit-shadow:inset 0 -1px 0 #b5b5b5;-khtml-shadow:inset 0 -1px 0 #b5b5b5;-moz-shadow:inset 0 -1px 0 #b5b5b5;-ms-shadow:inset 0 -1px 0 #b5b5b5;-o-shadow:inset 0 -1px 0 #b5b5b5;shadow:inset 0 -1px 0 #b5b5b5;font-size:.8em;line-height:1.25;font-family:SFMono-Regular,Liberation Mono,Roboto Mono,Menlo,Monaco,Consolas,Courier New,Courier,monospace;color:#5e5e5e}code{font-weight:400;font-size:.78125rem;font-family:monospace,Monaco,Andale Mono,Courier New}pre[class=chroma]{font-size:.8125rem;max-width:100%;font-weight:400;display:block;overflow:auto;white-space:pre;word-wrap:break-word;padding:1em;line-height:1.33;background:#f5f2f0;border:1px solid #d9d9d9}:not(pre)>code{margin:0 1px;white-space:normal;padding:2px 4px;font-size:85%;color:#c0341d;background-color:#fcefed;border-radius:3px;font-weight:500}.highlight{color:#34495e}.highlight pre{display:block}.highlight .err,.highlight .g,.highlight .ge,.highlight .go,.highlight .gp,.highlight .gs,.highlight .gt,.highlight .l,.highlight .ld,.highlight .n,.highlight .nb,.highlight .nl,.highlight .nn,.highlight .nx,.highlight .p,.highlight .py,.highlight .sd,.highlight .sh,.highlight .w{color:#586e75}.button{-moz-appearance:none;-webkit-appearance:none;background-color:#fff;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:1px solid #d3d6db;border-radius:3px;color:#262a30;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;font-size:.875rem;height:32px;line-height:24px;position:relative;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding-left:15px;padding-right:15px;text-align:center;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.button:hover{border-color:#aeb1b5}.small-container{max-width:590px;margin:0 auto;background-color:#fff;border:1px solid #e6ecf0;border-radius:3px}.small-container hr{border-top:1px solid #e6ecf0;margin:0}.small-container article{padding:12px}.small-container img{width:100%;height:320px;-o-object-fit:contain;object-fit:contain;text-align:center;margin:10px auto}.small-container a{font-size:.875rem;line-height:20px;color:#111;text-decoration:none}.small-container p{font-size:.875rem;line-height:20px;color:#111;text-decoration:none}.small-container .content{font-size:.875rem;line-height:20px;margin:10px 0}.small-container .subtitle{font-weight:300;word-break:break-word;line-height:1.5;font-size:.75rem;color:#aeaeae;vertical-align:baseline}.small-container table{border-collapse:collapse;border-spacing:0;font-size:80%;text-align:left}.small-container table td{padding:1px 6px;vertical-align:middle;border:1px solid #efefef}.small-container table th{padding:1px 6px;vertical-align:middle;border:1px solid #efefef;border:1px solid #c2c4c5;background-color:#e4e6e8}footer{border-top:1px solid #eee;bottom:0;margin-top:-60px;width:100%;height:60px;color:#5e5e5e;display:block}footer p{font-size:.875rem;color:#8e8787}footer a{text-decoration:none;color:#111;font-size:.75rem}.chroma{background-color:#fff}.chroma .err{color:red;background-color:#faa}.chroma .lntd{vertical-align:top;padding:0;margin:0;border:0}.chroma .lntable{border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block}.chroma .hl{display:block;width:100%;background-color:#ffc}.chroma .lnt{margin-right:.4em;padding:0 .4em}.chroma .ln{margin-right:.4em;padding:0 .4em}.chroma .k{color:#00a}.chroma .kc{color:#00a}.chroma .kd{color:#00a}.chroma .kn{color:#00a}.chroma .kp{color:#00a}.chroma .kr{color:#00a}.chroma .kt{color:#0aa}.chroma .na{color:#1e90ff}.chroma .nb{color:#0aa}.chroma .nc{color:#0a0;text-decoration:underline}.chroma .no{color:#a00}.chroma .nd{color:#888}.chroma .ni{color:#800}.chroma .nf{color:#0a0}.chroma .nn{color:#0aa;text-decoration:underline}.chroma .nt{color:#1e90ff}.chroma .nv{color:#a00}.chroma .s{color:#a50}.chroma .sa{color:#a50}.chroma .sb{color:#a50}.chroma .sc{color:#a50}.chroma .dl{color:#a50}.chroma .sd{color:#a50}.chroma .s2{color:#a50}.chroma .se{color:#a50}.chroma .sh{color:#a50}.chroma .si{color:#a50}.chroma .sx{color:#a50}.chroma .sr{color:#099}.chroma .s1{color:#a50}.chroma .ss{color:#00a}.chroma .m{color:#099}.chroma .mb{color:#099}.chroma .mf{color:#099}.chroma .mh{color:#099}.chroma .mi{color:#099}.chroma .il{color:#099}.chroma .mo{color:#099}.chroma .ow{color:#00a}.chroma .c{color:#aaa;font-style:italic}.chroma .ch{color:#aaa;font-style:italic}.chroma .cm{color:#aaa;font-style:italic}.chroma .c1{color:#aaa;font-style:italic}.chroma .cs{color:#00a;font-style:italic}.chroma .cp{color:#4c8317}.chroma .cpf{color:#4c8317}.chroma .gd{color:#a00}.chroma .ge{font-style:italic}.chroma .gr{color:#a00}.chroma .gh{color:navy}.chroma .gi{color:#0a0}.chroma .go{color:#888}.chroma .gp{color:#555}.chroma .gu{color:purple}.chroma .gt{color:#a00}.chroma .gl{text-decoration:underline}.chroma .w{color:#bbb}</style><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="manifest" href="/site.webmanifest"><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery_lazyload/1.9.3/jquery.lazyload.min.js" type="text/javascript"></script></head><body><header id="header" class="auto_header unselectable opaqueHeader" style="top:0;position:fixed;z-index:9999"><div class="homepage"><a href="/"><div class="title">Hey sister</div></a></div><div id="nav-bar"><nav class="nav-item"> <a class="nav-color-normal" href="/bb/">小声BB</a></nav><nav class="nav-item dropdown"> <a class="dropbtn nav-color-normal">归档<span class="caret"></span></a><div class="dropdown-content"> <a href="/categories/">分类</a><a href="/tags/">标签</a></div></nav><nav class="nav-item dropdown"> <a class="dropbtn nav-color-normal">关于<span class="caret"></span></a><div class="dropdown-content"> <a href="/about/">关于我</a><a href="/friends/">友情链接</a><a href="/website-building/">技术说明</a><a href="/copyright/">版权声明</a><a href="/index.xml">订阅</a></div></nav></div></header><main style="background-color:#fff"><div id="page" class="vertical-safe"><div class="page-wrap"><div class="middle-side horizontal-safe"><article><div class="article-header"><h1 class="title">一种简洁的ADAPTER模式实现</h1><span class="subtitle">2015年12月15日 11:46</span></div><div class="content"><p>鄙人觉得做重复的事情就是浪费生命啊(<a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself" target="_blank">Don&rsquo;t Repeat Yourself原则</a>), 在Android中<a href="http://developer.android.com/reference/android/widget/ListView.html" target="_blank">ListView</a>的Adapter中有大量重复工作可以被取消掉.</p><p>首先看看一种已经实现的调用方式:</p><div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">adapter <span style="color:#666">=</span>
<span style="color:#007020;font-weight:700">new</span> QuickAdapter<span style="color:#666">&lt;</span>GoodsModel<span style="color:#666">&gt;(</span>R<span style="color:#666">.</span><span style="color:#4070a0">layout</span><span style="color:#666">.</span><span style="color:#4070a0">adapter_goods</span><span style="color:#666">)</span> <span style="color:#666">{</span>
            <span style="color:#555;font-weight:700">@Override</span>
            <span style="color:#007020;font-weight:700">public</span> <span style="color:#902000">void</span> <span style="color:#06287e">bindView</span><span style="color:#666">(</span>Context context<span style="color:#666">,</span> AutoViewHolder holder<span style="color:#666">,</span> <span style="color:#902000">int</span> position<span style="color:#666">,</span> GoodsDetailModel model<span style="color:#666">)</span> <span style="color:#666">{</span>
                <span style="color:#60a0b0;font-style:italic">//商品缩略图
</span><span style="color:#60a0b0;font-style:italic"></span>                Picasso<span style="color:#666">.</span><span style="color:#4070a0">with</span><span style="color:#666">(</span>NativeActivity<span style="color:#666">.</span><span style="color:#4070a0">this</span><span style="color:#666">).</span><span style="color:#4070a0">load</span><span style="color:#666">(</span>model<span style="color:#666">.</span><span style="color:#4070a0">getPicThumb</span><span style="color:#666">()).</span><span style="color:#4070a0">into</span><span style="color:#666">(</span>holder<span style="color:#666">.</span><span style="color:#4070a0">getImageView</span><span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#4070a0">id</span><span style="color:#666">.</span><span style="color:#4070a0">goods_item_thumb</span><span style="color:#666">));</span>
                <span style="color:#60a0b0;font-style:italic">//商品的标题
</span><span style="color:#60a0b0;font-style:italic"></span>                holder<span style="color:#666">.</span><span style="color:#4070a0">getTextView</span><span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#4070a0">id</span><span style="color:#666">.</span><span style="color:#4070a0">goods_item_title</span><span style="color:#666">).</span><span style="color:#4070a0">setText</span><span style="color:#666">(</span>model<span style="color:#666">.</span><span style="color:#4070a0">getTitle</span><span style="color:#666">());</span>
                <span style="color:#60a0b0;font-style:italic">//商品的价格
</span><span style="color:#60a0b0;font-style:italic"></span>                holder<span style="color:#666">.</span><span style="color:#4070a0">getTextView</span><span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#4070a0">id</span><span style="color:#666">.</span><span style="color:#4070a0">goods_item_now_price</span><span style="color:#666">).</span><span style="color:#4070a0">setText</span><span style="color:#666">(</span>model<span style="color:#666">.</span><span style="color:#4070a0">getPrice</span><span style="color:#666">());</span>
            <span style="color:#666">}</span>
        <span style="color:#666">};</span>
</code></pre></div><p>说明: <code>GoodsModel</code>是商品的数据模型, <code>R.layout.adapter_goods</code>是相应的布局文件, 然后在<code>bindView()</code>方法中将相应的数据和视图绑定.</p><p>以下是鄙人的实现:</p><h3 id="quickadapter">QuickAdapter</h3><div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#007020;font-weight:700">package</span> <span style="color:#0e84b5;font-weight:700">com.qbeenslee.base</span><span style="color:#666">;</span>

<span style="color:#007020;font-weight:700">import</span> <span style="color:#0e84b5;font-weight:700">android.content.Context</span><span style="color:#666">;</span>
<span style="color:#007020;font-weight:700">import</span> <span style="color:#0e84b5;font-weight:700">android.view.LayoutInflater</span><span style="color:#666">;</span>
<span style="color:#007020;font-weight:700">import</span> <span style="color:#0e84b5;font-weight:700">android.view.View</span><span style="color:#666">;</span>
<span style="color:#007020;font-weight:700">import</span> <span style="color:#0e84b5;font-weight:700">android.view.ViewGroup</span><span style="color:#666">;</span>
<span style="color:#007020;font-weight:700">import</span> <span style="color:#0e84b5;font-weight:700">android.widget.BaseAdapter</span><span style="color:#666">;</span>

<span style="color:#007020;font-weight:700">import</span> <span style="color:#0e84b5;font-weight:700">java.util.ArrayList</span><span style="color:#666">;</span>
<span style="color:#007020;font-weight:700">import</span> <span style="color:#0e84b5;font-weight:700">java.util.List</span><span style="color:#666">;</span>

<span style="color:#007020;font-weight:700">public</span> <span style="color:#007020;font-weight:700">class</span> <span style="color:#0e84b5;font-weight:700">QuickAdapter</span><span style="color:#666">&lt;</span>T<span style="color:#666">&gt;</span> <span style="color:#007020;font-weight:700">extends</span> BaseAdapter <span style="color:#666">{</span>
    <span style="color:#007020;font-weight:700">private</span> <span style="color:#007020;font-weight:700">final</span> <span style="color:#902000">int</span> layoutId<span style="color:#666">;</span>
    <span style="color:#007020;font-weight:700">protected</span> List<span style="color:#666">&lt;</span>T<span style="color:#666">&gt;</span> mData<span style="color:#666">;</span>

    <span style="color:#007020;font-weight:700">public</span> <span style="color:#06287e">QuickAdapter</span><span style="color:#666">(</span><span style="color:#902000">int</span> layoutId<span style="color:#666">)</span> <span style="color:#666">{</span>
        <span style="color:#007020;font-weight:700">this</span><span style="color:#666">.</span><span style="color:#4070a0">layoutId</span> <span style="color:#666">=</span> layoutId<span style="color:#666">;</span>
    <span style="color:#666">}</span>

    <span style="color:#007020;font-weight:700">public</span> <span style="color:#06287e">QuickAdapter</span><span style="color:#666">(</span><span style="color:#902000">int</span> layoutId<span style="color:#666">,</span> List<span style="color:#666">&lt;</span>T<span style="color:#666">&gt;</span> data<span style="color:#666">)</span> <span style="color:#666">{</span>
        <span style="color:#007020;font-weight:700">this</span><span style="color:#666">.</span><span style="color:#4070a0">layoutId</span> <span style="color:#666">=</span> layoutId<span style="color:#666">;</span>
        <span style="color:#007020;font-weight:700">this</span><span style="color:#666">.</span><span style="color:#4070a0">mData</span> <span style="color:#666">=</span> data<span style="color:#666">;</span>
    <span style="color:#666">}</span>


    <span style="color:#007020;font-weight:700">public</span> <span style="color:#902000">void</span> <span style="color:#06287e">addData</span><span style="color:#666">(</span>List<span style="color:#666">&lt;</span>T<span style="color:#666">&gt;</span> data<span style="color:#666">)</span> <span style="color:#666">{</span>
        <span style="color:#007020;font-weight:700">if</span> <span style="color:#666">(</span>data <span style="color:#666">!=</span> <span style="color:#007020;font-weight:700">null</span><span style="color:#666">)</span> <span style="color:#666">{</span>
            <span style="color:#007020;font-weight:700">if</span> <span style="color:#666">(</span><span style="color:#007020;font-weight:700">this</span><span style="color:#666">.</span><span style="color:#4070a0">mData</span> <span style="color:#666">==</span> <span style="color:#007020;font-weight:700">null</span><span style="color:#666">)</span> <span style="color:#666">{</span>
                <span style="color:#007020;font-weight:700">this</span><span style="color:#666">.</span><span style="color:#4070a0">mData</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:700">new</span> ArrayList<span style="color:#666">&lt;&gt;(</span>data<span style="color:#666">.</span><span style="color:#4070a0">size</span><span style="color:#666">());</span>
            <span style="color:#666">}</span>
            <span style="color:#007020;font-weight:700">this</span><span style="color:#666">.</span><span style="color:#4070a0">mData</span><span style="color:#666">.</span><span style="color:#4070a0">addAll</span><span style="color:#666">(</span>data<span style="color:#666">);</span>
            notifyDataSetChanged<span style="color:#666">();</span>
        <span style="color:#666">}</span>
    <span style="color:#666">}</span>

    <span style="color:#007020;font-weight:700">public</span> List<span style="color:#666">&lt;</span>T<span style="color:#666">&gt;</span> <span style="color:#06287e">getData</span><span style="color:#666">()</span> <span style="color:#666">{</span>
        <span style="color:#007020;font-weight:700">return</span> mData<span style="color:#666">;</span>
    <span style="color:#666">}</span>

    <span style="color:#007020;font-weight:700">public</span> <span style="color:#902000">void</span> <span style="color:#06287e">setData</span><span style="color:#666">(</span>List<span style="color:#666">&lt;</span>T<span style="color:#666">&gt;</span> data<span style="color:#666">)</span> <span style="color:#666">{</span>
        <span style="color:#007020;font-weight:700">if</span> <span style="color:#666">(</span>data <span style="color:#666">!=</span> <span style="color:#007020;font-weight:700">null</span><span style="color:#666">)</span> <span style="color:#666">{</span>
            <span style="color:#007020;font-weight:700">if</span> <span style="color:#666">(</span><span style="color:#007020;font-weight:700">this</span><span style="color:#666">.</span><span style="color:#4070a0">mData</span> <span style="color:#666">==</span> <span style="color:#007020;font-weight:700">null</span><span style="color:#666">)</span> <span style="color:#666">{</span>
                <span style="color:#007020;font-weight:700">this</span><span style="color:#666">.</span><span style="color:#4070a0">mData</span> <span style="color:#666">=</span> data<span style="color:#666">;</span>
            <span style="color:#666">}</span> <span style="color:#007020;font-weight:700">else</span> <span style="color:#666">{</span>
                <span style="color:#007020;font-weight:700">this</span><span style="color:#666">.</span><span style="color:#4070a0">mData</span><span style="color:#666">.</span><span style="color:#4070a0">clear</span><span style="color:#666">();</span>
                <span style="color:#007020;font-weight:700">this</span><span style="color:#666">.</span><span style="color:#4070a0">mData</span><span style="color:#666">.</span><span style="color:#4070a0">addAll</span><span style="color:#666">(</span>data<span style="color:#666">);</span>
            <span style="color:#666">}</span>
            notifyDataSetChanged<span style="color:#666">();</span>
        <span style="color:#666">}</span>
    <span style="color:#666">}</span>

    <span style="color:#007020;font-weight:700">public</span> View <span style="color:#06287e">getLayoutView</span><span style="color:#666">(</span>ViewGroup parent<span style="color:#666">,</span> <span style="color:#902000">int</span> layoutRes<span style="color:#666">)</span> <span style="color:#666">{</span>
        View view <span style="color:#666">=</span> <span style="color:#007020;font-weight:700">null</span><span style="color:#666">;</span>
        <span style="color:#007020;font-weight:700">if</span> <span style="color:#666">(</span>parent <span style="color:#666">!=</span> <span style="color:#007020;font-weight:700">null</span><span style="color:#666">)</span> <span style="color:#666">{</span>
            Context context <span style="color:#666">=</span> parent<span style="color:#666">.</span><span style="color:#4070a0">getContext</span><span style="color:#666">();</span>
            <span style="color:#007020;font-weight:700">if</span> <span style="color:#666">(</span>context <span style="color:#666">!=</span> <span style="color:#007020;font-weight:700">null</span><span style="color:#666">)</span> <span style="color:#666">{</span>
                LayoutInflater li <span style="color:#666">=</span> <span style="color:#666">(</span>LayoutInflater<span style="color:#666">)</span> context<span style="color:#666">.</span><span style="color:#4070a0">getSystemService</span><span style="color:#666">(</span>Context<span style="color:#666">.</span><span style="color:#4070a0">LAYOUT_INFLATER_SERVICE</span><span style="color:#666">);</span>
                <span style="color:#007020;font-weight:700">if</span> <span style="color:#666">(</span>li <span style="color:#666">!=</span> <span style="color:#007020;font-weight:700">null</span><span style="color:#666">)</span> <span style="color:#666">{</span>
                    view <span style="color:#666">=</span> li<span style="color:#666">.</span><span style="color:#4070a0">inflate</span><span style="color:#666">(</span>layoutRes<span style="color:#666">,</span> parent<span style="color:#666">,</span> <span style="color:#007020;font-weight:700">false</span><span style="color:#666">);</span>
                <span style="color:#666">}</span>
            <span style="color:#666">}</span>
        <span style="color:#666">}</span>
        <span style="color:#007020;font-weight:700">return</span> view<span style="color:#666">;</span>
    <span style="color:#666">}</span>

    <span style="color:#555;font-weight:700">@Override</span>
    <span style="color:#007020;font-weight:700">public</span> <span style="color:#902000">int</span> <span style="color:#06287e">getCount</span><span style="color:#666">()</span> <span style="color:#666">{</span>
        <span style="color:#007020;font-weight:700">return</span> mData <span style="color:#666">==</span> <span style="color:#007020;font-weight:700">null</span> <span style="color:#666">?</span> 0 <span style="color:#666">:</span> mData<span style="color:#666">.</span><span style="color:#4070a0">size</span><span style="color:#666">();</span>
    <span style="color:#666">}</span>

    <span style="color:#555;font-weight:700">@Override</span>
    <span style="color:#007020;font-weight:700">public</span> T <span style="color:#06287e">getItem</span><span style="color:#666">(</span><span style="color:#902000">int</span> position<span style="color:#666">)</span> <span style="color:#666">{</span>
        <span style="color:#007020;font-weight:700">return</span> mData <span style="color:#666">!=</span> <span style="color:#007020;font-weight:700">null</span> <span style="color:#666">&amp;&amp;</span> mData<span style="color:#666">.</span><span style="color:#4070a0">size</span><span style="color:#666">()</span> <span style="color:#666">&gt;</span> position <span style="color:#666">&amp;&amp;</span> position <span style="color:#666">&gt;=</span> 0 <span style="color:#666">?</span> mData<span style="color:#666">.</span><span style="color:#4070a0">get</span><span style="color:#666">(</span>position<span style="color:#666">)</span> <span style="color:#666">:</span> <span style="color:#007020;font-weight:700">null</span><span style="color:#666">;</span>
    <span style="color:#666">}</span>

    <span style="color:#555;font-weight:700">@Override</span>
    <span style="color:#007020;font-weight:700">public</span> <span style="color:#902000">long</span> <span style="color:#06287e">getItemId</span><span style="color:#666">(</span><span style="color:#902000">int</span> position<span style="color:#666">)</span> <span style="color:#666">{</span>
        <span style="color:#007020;font-weight:700">return</span> position<span style="color:#666">;</span>
    <span style="color:#666">}</span>

    <span style="color:#555;font-weight:700">@Override</span>
    <span style="color:#007020;font-weight:700">public</span> String <span style="color:#06287e">toString</span><span style="color:#666">()</span> <span style="color:#666">{</span>
        <span style="color:#007020;font-weight:700">return</span> mData <span style="color:#666">==</span> <span style="color:#007020;font-weight:700">null</span> <span style="color:#666">?</span> <span style="color:#4070a0">&#34;CommonAdapter:Data Is Null&#34;</span> <span style="color:#666">:</span> <span style="color:#4070a0">&#34;CommonAdapter{&#34;</span> <span style="color:#666">+</span> <span style="color:#4070a0">&#34;mData=&#34;</span> <span style="color:#666">+</span> mData <span style="color:#666">+</span> <span style="color:#4070a0">&#39;}&#39;</span><span style="color:#666">;</span>
    <span style="color:#666">}</span>

    <span style="color:#007020;font-weight:700">public</span> <span style="color:#902000">int</span> <span style="color:#06287e">getLayoutId</span><span style="color:#666">()</span> <span style="color:#666">{</span>
        <span style="color:#007020;font-weight:700">return</span> layoutId<span style="color:#666">;</span>
    <span style="color:#666">}</span>

    <span style="color:#555;font-weight:700">@Override</span>
    <span style="color:#007020;font-weight:700">public</span> View <span style="color:#06287e">getView</span><span style="color:#666">(</span><span style="color:#902000">int</span> position<span style="color:#666">,</span> View convertView<span style="color:#666">,</span> ViewGroup parent<span style="color:#666">)</span> <span style="color:#666">{</span>
        <span style="color:#007020;font-weight:700">if</span> <span style="color:#666">(</span>convertView <span style="color:#666">==</span> <span style="color:#007020;font-weight:700">null</span><span style="color:#666">)</span> <span style="color:#666">{</span>
            convertView <span style="color:#666">=</span> getLayoutView<span style="color:#666">(</span>parent<span style="color:#666">,</span> layoutId<span style="color:#666">);</span>
        <span style="color:#666">}</span>
        bindView<span style="color:#666">(</span>parent<span style="color:#666">.</span><span style="color:#4070a0">getContext</span><span style="color:#666">(),</span> AutoViewHolder<span style="color:#666">.</span><span style="color:#4070a0">getViewHolder</span><span style="color:#666">(</span>convertView<span style="color:#666">),</span> position<span style="color:#666">,</span> getItem<span style="color:#666">(</span>position<span style="color:#666">));</span>
        <span style="color:#007020;font-weight:700">return</span> convertView<span style="color:#666">;</span>
    <span style="color:#666">}</span>

    <span style="color:#007020;font-weight:700">public</span> <span style="color:#902000">void</span> <span style="color:#06287e">bindView</span><span style="color:#666">(</span>Context context<span style="color:#666">,</span> AutoViewHolder holder<span style="color:#666">,</span> <span style="color:#902000">int</span> position<span style="color:#666">,</span> T model<span style="color:#666">)</span> <span style="color:#666">{</span>
    <span style="color:#666">}</span>
<span style="color:#666">}</span>
</code></pre></div><h3 id="autoviewholder">AutoViewHolder</h3><div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#007020;font-weight:700">package</span> <span style="color:#0e84b5;font-weight:700">com.qbeenslee.base</span><span style="color:#666">;</span>

<span style="color:#007020;font-weight:700">import</span> <span style="color:#0e84b5;font-weight:700">android.util.SparseArray</span><span style="color:#666">;</span>
<span style="color:#007020;font-weight:700">import</span> <span style="color:#0e84b5;font-weight:700">android.view.View</span><span style="color:#666">;</span>
<span style="color:#007020;font-weight:700">import</span> <span style="color:#0e84b5;font-weight:700">android.widget.Button</span><span style="color:#666">;</span>
<span style="color:#007020;font-weight:700">import</span> <span style="color:#0e84b5;font-weight:700">android.widget.ImageView</span><span style="color:#666">;</span>
<span style="color:#007020;font-weight:700">import</span> <span style="color:#0e84b5;font-weight:700">android.widget.TextView</span><span style="color:#666">;</span>

<span style="color:#60a0b0;font-style:italic">/**
</span><span style="color:#60a0b0;font-style:italic"> * ViewHolder模式
</span><span style="color:#60a0b0;font-style:italic"> */</span>
<span style="color:#007020;font-weight:700">public</span> <span style="color:#007020;font-weight:700">class</span> <span style="color:#0e84b5;font-weight:700">AutoViewHolder</span> <span style="color:#666">{</span>
    <span style="color:#007020;font-weight:700">private</span> <span style="color:#007020;font-weight:700">final</span> SparseArray<span style="color:#666">&lt;</span>View<span style="color:#666">&gt;</span> viewHolder<span style="color:#666">;</span>
    <span style="color:#007020;font-weight:700">private</span> <span style="color:#007020;font-weight:700">final</span> View view<span style="color:#666">;</span>

    <span style="color:#007020;font-weight:700">private</span> <span style="color:#06287e">AutoViewHolder</span><span style="color:#666">(</span>View view<span style="color:#666">)</span> <span style="color:#666">{</span>
        <span style="color:#007020;font-weight:700">this</span><span style="color:#666">.</span><span style="color:#4070a0">view</span> <span style="color:#666">=</span> view<span style="color:#666">;</span>
        viewHolder <span style="color:#666">=</span> <span style="color:#007020;font-weight:700">new</span> SparseArray<span style="color:#666">&lt;&gt;();</span>
        view<span style="color:#666">.</span><span style="color:#4070a0">setTag</span><span style="color:#666">(</span>viewHolder<span style="color:#666">);</span>
    <span style="color:#666">}</span>

    <span style="color:#007020;font-weight:700">public</span> <span style="color:#007020;font-weight:700">static</span> AutoViewHolder <span style="color:#06287e">getViewHolder</span><span style="color:#666">(</span>View view<span style="color:#666">)</span> <span style="color:#666">{</span>
        AutoViewHolder viewHolder <span style="color:#666">=</span> <span style="color:#666">(</span>AutoViewHolder<span style="color:#666">)</span> view<span style="color:#666">.</span><span style="color:#4070a0">getTag</span><span style="color:#666">();</span>
        <span style="color:#007020;font-weight:700">if</span> <span style="color:#666">(</span>viewHolder <span style="color:#666">==</span> <span style="color:#007020;font-weight:700">null</span><span style="color:#666">)</span> <span style="color:#666">{</span>
            viewHolder <span style="color:#666">=</span> <span style="color:#007020;font-weight:700">new</span> AutoViewHolder<span style="color:#666">(</span>view<span style="color:#666">);</span>
            view<span style="color:#666">.</span><span style="color:#4070a0">setTag</span><span style="color:#666">(</span>viewHolder<span style="color:#666">);</span>
        <span style="color:#666">}</span>
        <span style="color:#007020;font-weight:700">return</span> viewHolder<span style="color:#666">;</span>
    <span style="color:#666">}</span>

    <span style="color:#007020;font-weight:700">public</span> <span style="color:#666">&lt;</span>T <span style="color:#007020;font-weight:700">extends</span> View<span style="color:#666">&gt;</span> T <span style="color:#06287e">get</span><span style="color:#666">(</span><span style="color:#902000">int</span> id<span style="color:#666">)</span> <span style="color:#666">{</span>
        View childView <span style="color:#666">=</span> viewHolder<span style="color:#666">.</span><span style="color:#4070a0">get</span><span style="color:#666">(</span>id<span style="color:#666">);</span>
        <span style="color:#007020;font-weight:700">if</span> <span style="color:#666">(</span>childView <span style="color:#666">==</span> <span style="color:#007020;font-weight:700">null</span><span style="color:#666">)</span> <span style="color:#666">{</span>
            childView <span style="color:#666">=</span> view<span style="color:#666">.</span><span style="color:#4070a0">findViewById</span><span style="color:#666">(</span>id<span style="color:#666">);</span>
            viewHolder<span style="color:#666">.</span><span style="color:#4070a0">put</span><span style="color:#666">(</span>id<span style="color:#666">,</span> childView<span style="color:#666">);</span>
        <span style="color:#666">}</span>
        <span style="color:#007020;font-weight:700">return</span> <span style="color:#666">(</span>T<span style="color:#666">)</span> childView<span style="color:#666">;</span>
    <span style="color:#666">}</span>

    <span style="color:#007020;font-weight:700">public</span> View <span style="color:#06287e">getConvertView</span><span style="color:#666">()</span> <span style="color:#666">{</span>
        <span style="color:#007020;font-weight:700">return</span> view<span style="color:#666">;</span>
    <span style="color:#666">}</span>

    <span style="color:#007020;font-weight:700">public</span> TextView <span style="color:#06287e">getTextView</span><span style="color:#666">(</span><span style="color:#902000">int</span> id<span style="color:#666">)</span> <span style="color:#666">{</span>
        <span style="color:#007020;font-weight:700">return</span> get<span style="color:#666">(</span>id<span style="color:#666">);</span>
    <span style="color:#666">}</span>

    <span style="color:#007020;font-weight:700">public</span> Button <span style="color:#06287e">getButton</span><span style="color:#666">(</span><span style="color:#902000">int</span> id<span style="color:#666">)</span> <span style="color:#666">{</span>
        <span style="color:#007020;font-weight:700">return</span> get<span style="color:#666">(</span>id<span style="color:#666">);</span>
    <span style="color:#666">}</span>

    <span style="color:#007020;font-weight:700">public</span> ImageView <span style="color:#06287e">getImageView</span><span style="color:#666">(</span><span style="color:#902000">int</span> id<span style="color:#666">)</span> <span style="color:#666">{</span>
        <span style="color:#007020;font-weight:700">return</span> get<span style="color:#666">(</span>id<span style="color:#666">);</span>
    <span style="color:#666">}</span>

    <span style="color:#007020;font-weight:700">public</span> <span style="color:#902000">void</span> <span style="color:#06287e">setTextView</span><span style="color:#666">(</span><span style="color:#902000">int</span> id<span style="color:#666">,</span> CharSequence charSequence<span style="color:#666">)</span> <span style="color:#666">{</span>
        getTextView<span style="color:#666">(</span>id<span style="color:#666">).</span><span style="color:#4070a0">setText</span><span style="color:#666">(</span>charSequence<span style="color:#666">);</span>
    <span style="color:#666">}</span>

<span style="color:#666">}</span>
</code></pre></div><p>在github上搜了一下发现基于RecyclerView的实现方案, 大家也可以参考一下<a href="https://github.com/LightSun/android-common-utils/blob/master/common-utils/commonutil/src/main/java/org/heaven7/core/adapter/QuickAdapter.java" target="_blank">QuickAdapter</a> , <a href="https://github.com/chenenyu/SuperAdapter" target="_blank">SuperAdapter</a>, <a href="https://github.com/bboyfeiyu/commonadapter" target="_blank">CommonAdapter</a> .</p><div class="article-copyright"><p>文章作者: <a href="https://qbeenslee.com/article/super-simple-android-adapter-pattern/"><i>qbeenslee</i></a></p> <a href="/copyright/"><img src="https://qbeenslee.com/img/cc-by-nc-nd.svg" height="20px" width="93px" class="nozoom"></a></div></div></article></div><div class="comment-wrap horizontal-safe unselectable" style="padding-left:20px;padding-right:20px"><style>#vcomments .info,.at,.vcontent>a[href^="#"],.vcopy,.vlink,.vmail,.vpower,.vsys{display:none!important}.v .vlist .vcard{padding-top:0!important}.v code,.v pre{font-size:100%!important}.vinput{border:none!important}.vheader{border-bottom:1px dashed #dedede}</style><section class="section-content unselectable"><div id="vcomments" class="container"></div></section><script src="//unpkg.com/valine/dist/Valine.min.js"></script><script>new Valine({el:"#vcomments",lang:"zh-cn",appId:"G3MMP8E4DNTqvCPV48o7Ph23-gzGzoHsz",appKey:"jYCgILtFpGK1vJUJSE5TtIIs",notify:!1,verify:!1,avatar:"hide",visitor:!1,recordIP:!0,placeholder:"随便说点啥~~"})</script></div></div></div></main><footer class="section site_footer_grap unselectable"><div class="has-text-centered"><p>&copy;Qbeenslee 2020</p></div></footer><script type="text/javascript" src="https://qbeenslee.com/js/main-7dad4f9259.js"></script><script type="text/javascript">var imgs=$("img");imgs.on("contextmenu",function(){return!1}),imgs.on("dragstart",function(){return!1})</script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?58b3c65a09f5aacd0e62efe29897c7e4";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></body></html>