$(document).ready(function(){$("main").find("img").not(".image-compare-item").lazyload(),$('#content-toc-tree a[href*="#"]').click(function(e){e.preventDefault();$.smoothScroll({offset:-60,scrollTarget:decodeURI(this.hash),speed:500})}),$('#banner a[href*="#"]').click(function(e){e.preventDefault();$.smoothScroll({offset:0,scrollTarget:decodeURI(this.hash),speed:500}),s})}),$(document).ready(function(){var t,o,e,a=$("#banner"),n=0;$(".dropdown-content").parent().click(function(){var e;"block"===(e=$(this).find(".dropdown-content")).css("display")?(e.css("display","none"),$(".dropdown-content").on("mouseleave",null)):(e.css("display","block"),$(".dropdown-content").on("mouseleave",function(){$(".dropdown-content").css("display","none")}))});var s=function(){a&&void 0!==a&&0<a.height()&&($(this).scrollTop()<=a.height()?$("#header").removeClass("opaqueHeader").addClass("transHeader"):$("#header").removeClass("transHeader").addClass("opaqueHeader"))};if(document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)){setTimeout(function(){e=!1,t=10,o=$(".auto_header").outerHeight(),$(document).ready(function(){return $("body").css("position","relative"),$(".auto_header").css("transition","top 0.3s ease-in-out").css("top","0").css("position","fixed").css("z-index",1100)}),$(window).scroll(function(){return s(),e=!0}),setInterval(function(){if(e)return function(){var e;e=$(this).scrollTop(),!(Math.abs(n-e)<=t)&&(n<e&&o/2<e?$(".auto_header").css("top","-"+1.2*o+"px"):e+$(window).height()<$(document).height()&&$(".auto_header").css("top","0"),n=e)}(),function(){if(a&&void 0!==a&&0<a.height()){if($(window).width()<1350)return;$(this).scrollTop()<=a.height()?$("#content-toc-box").hide():$("#content-toc-box").show()}}(),e=!1},250)},1200);s()}}),window.loadphotoswipejs&&window.alert("You've loaded load-photoswipe.js twice. See https://github.com/liwenyip/hugo-easy-gallery/issues/6");var loadphotoswipejs=1;$(document).ready(function(){var d=[];$("#content img").each(function(){var e=$(this);if(e.hasClass("no-photoswipe")||e.hasClass("nozoom")||e.parent().is("div")&&!e.parent().hasClass("content")||e.parent().is("a"))return e.parent().is("a")?e.css("cursor","pointer"):e.css("cursor","default"),!0;var t=e.attr("href"),o=e.attr("alt"),a=e.attr("src"),n=e.attr("data-original");if($(this).css("cursor","zoom-in"),null!=a&&!a.startsWith("data:")||null==n||(a=n),null==t&&(t=a),e.data("size"))var s=e.data("size").split("x"),i={src:t,w:s[0],h:s[1],title:o,msrc:a};else{i={src:t,w:800,h:600,title:o,msrc:a};var c=new Image;c.src=t;var r=setInterval(function(){var e=c.naturalWidth,t=c.naturalHeight;e&&t&&(clearInterval(r),i.w=e,i.h=t)},30)}var l=d.length;d.push(i),e.on("click",function(e){e.preventDefault();var t=$(".pswp")[0];new PhotoSwipe(t,PhotoSwipeUI_Default,d,{index:l,bgOpacity:.8,showHideOpacity:!0}).init()})})});var searchVisible=!1,searchDataLoad=!1;function toggleSearch(){if(searchVisible?$(".search-box").css("display",""):($(".search-box").css("display","block"),setTimeout(function(){return $(".search-box input").focus()})),searchVisible=!searchVisible,!searchDataLoad){searchDataLoad=!0;var o=document.location.origin+"/index.json",e=document.location.origin+"/js/semantic-search.js";$.ajaxSetup({cache:!0}),$.getScript(e).done(function(e,t){$.getJSON(o,function(e){$(".search-box").search({source:e,searchFields:["title","description","date","tags","categories","url"],onResultsOpen:function(e){$(".search-box").find("img").not(".image-compare-item").lazyload()}})})}).fail(function(e,t,o){console.log("Load semantic-search.js failed.")})}}$(document).ready(function(){$(document).on("keydown",function(e){e.metaKey&&"/"===e.key&&!searchVisible&&toggleSearch(),"Escape"===e.key&&searchVisible&&toggleSearch()})});